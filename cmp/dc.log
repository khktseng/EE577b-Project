######################################################################
#
# EE-577b 2020 FALL
# : DesignCompiler synthesis script
#   modified by Linyi Hong
#
# use this script as a template for synthesizing combinational logic
#
######################################################################
# Setting variable for design_name. (top module name)
set design_name $env(DESIGN_NAME);
rooter
## For NCSUFreePDK45nm library
set search_path [ list .                   /home/scf-22/ee577/NCSU45PDK/FreePDK45/osu_soc/lib/files ]
. /home/scf-22/ee577/NCSU45PDK/FreePDK45/osu_soc/lib/files
set target_library { gscl45nm.db }
 gscl45nm.db 
set synthetic_library [list dw_foundation.sldb standard.sldb ]
dw_foundation.sldb standard.sldb
set link_library [list * gscl45nm.db dw_foundation.sldb standard.sldb]
* gscl45nm.db dw_foundation.sldb standard.sldb
# Reading source verilog file.
# copy your verilog file into ./src/ before synthesis.
read_verilog ./src/${design_name}.v ;
Loading db file '/home/scf-22/ee577/NCSU45PDK/FreePDK45/osu_soc/lib/files/gscl45nm.db'
Loading db file '/usr/local/synopsys/Design_Compiler/default/libraries/syn/dw_foundation.sldb'
Loading db file '/usr/local/synopsys/Design_Compiler/default/libraries/syn/standard.sldb'
Loading db file '/usr/local/synopsys/Design_Compiler/default/libraries/syn/gtech.db'
  Loading link library 'gscl45nm'
  Loading link library 'gtech'
Loading verilog file '/home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.v'
Detecting input file type automatically (-rtl or -netlist).
Reading with Presto HDL Compiler (equivalent to -rtl option).
Running PRESTO HDLC
Compiling source file /home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.v
Warning:  /home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.v:39: A unnamed generate block with an LRM-defined name 'genblk1' is detected, which is incompatible with Verilog standard 2001 or 1995. (VER-944)
Warning:  /home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.v:51: A unnamed generate block with an LRM-defined name 'genblk2' is detected, which is incompatible with Verilog standard 2001 or 1995. (VER-944)
Warning:  /home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.v:63: A unnamed generate block with an LRM-defined name 'genblk3' is detected, which is incompatible with Verilog standard 2001 or 1995. (VER-944)

Statistics for case statements in always block at line 77 in file
        '/home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.v'
===============================================
|           Line           |  full/ parallel  |
===============================================
|            78            |    auto/auto     |
===============================================
Presto compilation completed successfully.
Current design is now '/home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.db:rooter'
Loaded 1 design.
Current design is 'rooter'.
rooter
# Setting $design_name as current working design.
# Use this command before setting any constraints.
current_design $design_name ;
Current design is 'rooter'.
{rooter}
# If you have multiple instances of the same module,
# use this so that DesignCompiler optimizes each instance separately.
uniquify ;
1
# Linking your design into the cells in standard cell libraries.
# This command checks whether your design can be compiled
link ;

  Linking design 'rooter'
  Using the following designs and libraries:
  --------------------------------------------------------------------------
  rooter                      /home/viterbi/01/kyletsen/EE577b/Project/cmp/src/rooter.db
  gscl45nm (library)          /home/scf-22/ee577/NCSU45PDK/FreePDK45/osu_soc/lib/files/gscl45nm.db
  dw_foundation.sldb (library) /usr/local/synopsys/Design_Compiler/default/libraries/syn/dw_foundation.sldb

1
# Create a clock with period of 5.
create_clock -name clk -period 20.0 -waveform [list 0 10.0] [get_ports clk]
1
# Setting timing constraints for combinational logic.
# Specifying maximum delay from inputs to outputs
set_max_delay 5.0 -to [all_outputs];
1
set_max_delay 5.0 -from [all_inputs];
1
# "check_design" checks the internal representation of the
# current design for consistency and issues error and
# warning messages as appropriate.
check_design > report/$design_name.check_design ;
# Perforing synthesis and optimization on the current_design.
compile ;
Information: Checking out the license 'DesignWare'. (SEC-104)
Information: Evaluating DesignWare library utilization. (UISN-27)

============================================================================
| DesignWare Building Block Library  |         Version         | Available |
============================================================================
| Basic DW Building Blocks           | K-2015.06-DWBB_201506.5.2
                                                               |     *     |
| Licensed DW Building Blocks        | K-2015.06-DWBB_201506.5.2
                                                               |     *     |
============================================================================


Information: There are 20 potential problems in your design. Please run 'check_design' for more information. (LINT-99)



  Beginning Pass 1 Mapping
  ------------------------
  Processing 'rooter'

  Updating timing information
Information: Updating design information... (UID-85)

  Beginning Implementation Selection
  ----------------------------------
  Processing 'rooter_DW_sqrt_seq_0'
  Processing 'rooter_DW_cntr_scnto_0'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_0'
  Processing 'rooter_DW01_add_1'
  Processing 'rooter_DW_sqrt_seq_1'
  Processing 'rooter_DW_cntr_scnto_1'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_2'
  Processing 'rooter_DW01_add_3'
  Processing 'rooter_DW_sqrt_seq_2'
  Processing 'rooter_DW_cntr_scnto_2'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_4'
  Processing 'rooter_DW01_add_5'
  Processing 'rooter_DW01_add_6'
  Processing 'rooter_DW_sqrt_seq_3'
  Processing 'rooter_DW_cntr_scnto_3'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_7'
  Processing 'rooter_DW01_add_8'
  Processing 'rooter_DW01_add_9'
  Processing 'rooter_DW_sqrt_seq_4'
  Processing 'rooter_DW_cntr_scnto_4'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_10'
  Processing 'rooter_DW01_add_11'
  Processing 'rooter_DW01_add_12'
  Processing 'rooter_DW_sqrt_seq_5'
  Processing 'rooter_DW_cntr_scnto_5'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_13'
  Processing 'rooter_DW01_add_14'
  Processing 'rooter_DW01_add_15'
  Processing 'rooter_DW_sqrt_seq_6'
  Processing 'rooter_DW_cntr_scnto_6'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_16'
  Processing 'rooter_DW01_add_17'
  Processing 'rooter_DW_sqrt_seq_7'
  Processing 'rooter_DW_cntr_scnto_7'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_18'
  Processing 'rooter_DW01_add_19'
  Processing 'rooter_DW_sqrt_seq_8'
  Processing 'rooter_DW_cntr_scnto_8'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_20'
  Processing 'rooter_DW01_add_21'
  Processing 'rooter_DW_sqrt_seq_9'
  Processing 'rooter_DW_cntr_scnto_9'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_22'
  Processing 'rooter_DW01_add_23'
  Processing 'rooter_DW_sqrt_seq_10'
  Processing 'rooter_DW_cntr_scnto_10'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_24'
  Processing 'rooter_DW01_add_25'
  Processing 'rooter_DW_sqrt_seq_11'
  Processing 'rooter_DW_cntr_scnto_11'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_26'
  Processing 'rooter_DW01_add_27'
  Processing 'rooter_DW_sqrt_seq_12'
  Processing 'rooter_DW_cntr_scnto_12'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_28'
  Processing 'rooter_DW01_add_29'
  Processing 'rooter_DW_sqrt_seq_13'
  Processing 'rooter_DW_cntr_scnto_13'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_30'
  Processing 'rooter_DW01_add_31'
  Processing 'rooter_DW_sqrt_seq_14'
  Processing 'rooter_DW_cntr_scnto_14'
  Mapping 'DW_inc'
  Processing 'rooter_DW01_add_32'
  Processing 'rooter_DW01_add_33'
  Processing 'rooter_DW01_add_34'
  Processing 'rooter_DW01_add_35'

  Beginning Mapping Optimizations  (Medium effort)
  -------------------------------
  Mapping Optimization (Phase 1)

                                  TOTAL                                      
   ELAPSED            WORST NEG   SETUP    DESIGN                            
    TIME      AREA      SLACK     COST    RULE COST         ENDPOINT         
  --------- --------- --------- --------- --------- -------------------------
    0:00:04   18900.1      0.00       0.0       9.3                          
    0:00:04   18900.1      0.00       0.0       9.3                          
    0:00:04   18900.1      0.00       0.0       9.3                          
    0:00:04   18900.1      0.00       0.0       9.3                          
    0:00:04   18900.1      0.00       0.0       9.3                          
    0:00:05   17779.9      0.00       0.0       8.5                          
    0:00:05   17771.9      0.00       0.0       8.5                          
    0:00:05   17771.9      0.00       0.0       8.5                          
    0:00:05   17771.9      0.00       0.0       8.5                          
    0:00:05   17771.9      0.00       0.0       8.5                          
    0:00:05   17771.9      0.00       0.0       8.5                          
    0:00:07   18011.7      0.00       0.0       7.0                          
    0:00:08   18207.9      0.00       0.0       6.3                          
    0:00:09   18395.2      0.00       0.0       5.7                          
    0:00:09   18537.8      0.00       0.0       5.3                          
    0:00:09   18688.0      0.00       0.0       4.9                          
    0:00:10   18813.8      0.00       0.0       4.8                          
    0:00:10   18915.6      0.00       0.0       4.7                          
    0:00:10   18997.7      0.00       0.0       4.6                          
    0:00:10   19087.4      0.00       0.0       4.5                          
    0:00:10   19167.2      0.00       0.0       4.4                          
    0:00:10   19226.3      0.00       0.0       4.4                          
    0:00:11   19261.9      0.00       0.0       4.3                          
    0:00:11   19302.3      0.00       0.0       4.3                          
    0:00:11   19317.8      0.00       0.0       4.3                          
    0:00:11   19317.8      0.00       0.0       4.3                          



  Beginning Delay Optimization Phase
  ----------------------------------

                                  TOTAL                                      
   ELAPSED            WORST NEG   SETUP    DESIGN                            
    TIME      AREA      SLACK     COST    RULE COST         ENDPOINT         
  --------- --------- --------- --------- --------- -------------------------
    0:00:11   19317.8      0.00       0.0       4.3                          
    0:00:11   19317.8      0.00       0.0       4.3                          
    0:00:11   19310.8      0.00       0.0       4.3                          


  Beginning Design Rule Fixing  (max_capacitance)
  ----------------------------

                                  TOTAL                                      
   ELAPSED            WORST NEG   SETUP    DESIGN                            
    TIME      AREA      SLACK     COST    RULE COST         ENDPOINT         
  --------- --------- --------- --------- --------- -------------------------
    0:00:11   19310.8      0.00       0.0       4.3                          
    0:00:11   19404.1      0.00       0.0       4.1 sqrt_dw/U_ADD_2/n166     
    0:00:12   19510.7      0.00       0.0       3.9 sqrt_dw/U_ADD_0/n287     
    0:00:12   19637.4      0.00       0.0       3.7 sqrt_dw/U_ADD_2/n55      
    0:00:12   19752.8      0.00       0.0       3.5 sqrt_dw/U_ADD_2/n177     
    0:00:12   19868.8      0.00       0.0       3.3 sqrt_dw/U_ADD_1/n222     
    0:00:12   19995.5      0.00       0.0       3.2 sqrt_dw/U_ADD_0/n94      
    0:00:12   20121.7      0.00       0.0       3.0 sqrt_dw/U_ADD_1/n97      
    0:00:12   20267.7      0.00       0.0       2.8 sqrt_dw/U_ADD_1/n119     
    0:00:12   20408.9      0.00       0.0       2.7 sqrt_dw/U_ADD_2/n228     
    0:00:12   20551.6      0.00       0.0       2.6 sqrt_dw/U_ADD_0/n144     
    0:00:12   20711.1      0.00       0.0       2.5 sqrt_dw/U_ADD_2/n249     
    0:00:12   20873.5      0.00       0.0       2.3 sqrt_dw/U_ADD_0/n239     
    0:00:12   21023.7      0.00       0.0       2.2 sqrt_dw/U_ADD_0/n8       
    0:00:12   21206.7      0.00       0.0       2.0 sqrt_dw/U_ADD_2/n13      
    0:00:12   21389.8      0.00       0.0       1.7 sqrt_dw/U_ADD_1/n19      
    0:00:12   21558.2      0.00       0.0       1.6 sqrt_dw/U_ADD_0/n145     
    0:00:13   21697.6      0.00       0.0       1.5 sqrt_dw/U_ADD_2/n50      
    0:00:13   21837.0      0.00       0.0       1.3 sqrt_dw/U_ADD_3/n150     
    0:00:13   22006.9      0.00       0.0       1.2 sqrt_dw/U_ADD_0/n58      
    0:00:13   22171.6      0.00       0.0       1.1 sqrt_dw/U_ADD_3/n84      
    0:00:13   22335.4      0.00       0.0       1.1 sqrt_dw/U_ADD_1/n43      
    0:00:13   22479.9      0.00       0.0       1.1 sqrt_dw/U_ADD_3/n120     
    0:00:13   22624.5      0.00       0.0       1.1 genblk1[16].sqrt_b/net5052
    0:00:13   22769.0      0.00       0.0       1.0 sqrt_dw/net11003         
    0:00:13   22913.6      0.00       0.0       1.0 genblk1[40].sqrt_b/U_COUNT/next_cnt_gated[1]
    0:00:14   22988.2      0.00       0.0       1.0 n62                      
    0:00:19   23063.7      0.00       0.0       1.0                          


  Beginning Area-Recovery Phase  (cleanup)
  -----------------------------

                                  TOTAL                                      
   ELAPSED            WORST NEG   SETUP    DESIGN                            
    TIME      AREA      SLACK     COST    RULE COST         ENDPOINT         
  --------- --------- --------- --------- --------- -------------------------
    0:00:19   23063.7      0.00       0.0       1.0                          
    0:00:19   23063.7      0.00       0.0       1.0                          
    0:00:19   21974.0      0.00       0.0       1.0                          
    0:00:19   21261.6      0.00       0.0       1.0                          
    0:00:19   20773.1      0.00       0.0       1.0                          
    0:00:20   20425.3      0.00       0.0       1.0                          
    0:00:20   20335.2      0.00       0.0       1.0                          
    0:00:20   20335.2      0.00       0.0       1.0                          
    0:00:20   20335.2      0.00       0.0       1.0                          
    0:00:20   20269.1      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
    0:00:20   20263.9      0.00       0.0       1.0                          
Loading db file '/home/scf-22/ee577/NCSU45PDK/FreePDK45/osu_soc/lib/files/gscl45nm.db'


Note: Symbol # after min delay cost means estimated hold TNS across all active scenarios 


  Optimization Complete
  ---------------------
1
# For better synthesis result, use "compile_ultra" command.
# compile_ultra is doing automatic ungrouping during optimization,
# therefore sometimes it's hard to figure out the critical path 
# from the synthesized netlist.
# So, use "compile" command for now.
# Writing the synthesis result into Synopsys db format.
# You can read the saved db file into DesignCompiler later using
# "read_db" command for further analysis (timing, area...).
#write -xg_force_db -format db -hierarchy -out db/$design_name.db ;
# Generating timing and are report of the synthezied design.
report_timing > report/$design_name.timing ;
report_area > report/$design_name.area ;
report_power > report/$design_name.power;
# Writing synthesized gate-level verilog netlist.
# This verilog netlist will be used for post-synthesis gate-level simulation.
change_names -rules verilog -hierarchy ;
Warning: In the design rooter, net '*Logic0*' is connecting multiple ports. (UCN-1)
Warning: In the design rooter, net 'op_delay[1]' is connecting multiple ports. (UCN-1)
Warning: The specified replacement character (_) is conflicting with the specified allowed or restricted character.   (UCN-4)
1
write -format verilog -hierarchy -out netlist/${design_name}_syn.v ;
Writing verilog file '/home/viterbi/01/kyletsen/EE577b/Project/cmp/netlist/rooter_syn.v'.
Warning: Verilog 'assign' or 'tran' statements are written out. (VO-4)
1
# Writing Standard Delay Format (SDF) back-annotation file.
# This delay information can be used for post-synthesis simulation.
write_sdf netlist/${design_name}_syn.sdf;
Information: Annotated 'cell' delays are assumed to include load delay. (UID-282)
Information: Writing timing information to file '/home/viterbi/01/kyletsen/EE577b/Project/cmp/netlist/rooter_syn.sdf'. (WT-3)
1
write_sdc netlist/${design_name}_syn.sdc
1
#Design Ware
analyze -format verilog /usr/local/synopsys/Design_Compiler/K-2015.06-SP5-5/dw/sim_ver/DW_div_seq.v
Running PRESTO HDLC
Compiling source file /usr/local/synopsys/Design_Compiler/K-2015.06-SP5-5/dw/sim_ver/DW_div_seq.v
Presto compilation completed successfully.
1
elaborate DW_div_seq
Running PRESTO HDLC
Presto compilation completed successfully.
Elaborated 1 design.
Current design is now 'DW_div_seq'.
1
1
dc_shell> exit

Thank you...

